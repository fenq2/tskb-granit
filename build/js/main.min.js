"use strict";var sandwich=function(){$(".sandwich__open-btn").click(function(){$(".sandwich__content").addClass("sandwich__content_opend")}),$(".sandwich__close-btn").click(function(){$(".sandwich__content").removeClass("sandwich__content_opend")}),$(".sandwich-nav__item_outer").click(function(){$(".sandwich-outer").addClass("sandwich-outer_opend")}),$(".sandwich__close-btn").click(function(){return $(".sandwich__content").removeClass("sandwich__content_opend"),$(".sandwich-outer").removeClass("sandwich-outer_opend"),!1}),$(".sandwich__back-btn").click(function(){return $(".sandwich-outer").removeClass("sandwich-outer_opend"),!1})},maskedInput=function(){$(".mask-phone").inputmask({mask:"+ 7 (999) 999-99-99"})};$(".lazyload").lazyload();var sliderProtocols=new Swiper(".protocols-slider__container",{navigation:{nextEl:".protocols-navigation__next",prevEl:".protocols-navigation__prev"}}),sliderReviews=new Swiper(".reviews-slider__container",{slidesPerView:1,spaceBetween:0,navigation:{nextEl:".reviews-navigation__next",prevEl:".reviews-navigation__prev"},breakpoints:{640:{slidesPerView:2,spaceBetween:20},920:{slidesPerView:4,spaceBetween:40}}}),sliderLaboratory=new Swiper(".laboratory-slider__container",{spaceBetween:60,navigation:{nextEl:".laboratory-navigation__next",prevEl:".laboratory-navigation__prev"}});$(".calculator-form__textarea").attr("placeholder","Параметры объекта:\nКол-во линий\nКол-во замеров\nКол-во энергоустановок\nКол-во ВРУ шкафов\nКол-во электрораспределительных шкафов");var myMapTemp,myPlacemarkTemp,spinner=$(".map__wrap").children(".loader"),check_if_load=!1;function init(){var n=new ymaps.Map("map-yandex",{center:[55.6704384080915,37.24221219938311],zoom:14,controls:["zoomControl","fullscreenControl"]}),e=new ymaps.Placemark([55.6704384080915,37.24221219938311],{balloonContent:"Здесь может быть ваш адрес"},{iconLayout:"default#imageWithContent",iconImageHref:"img/map-marker.png",iconImageSize:[50,50],iconImageOffset:[-25,-50]});n.geoObjects.add(e),waitForTilesLoad(n.layers.get(0).get(0)).then(function(){spinner.removeClass("is-active")})}function waitForTilesLoad(t){return new ymaps.vow.Promise(function(n,e){var a=getTileContainer(t),o=!0;a.tiles.each(function(n,e){n.isReady()||(o=!1)}),o?n():a.events.once("ready",function(){n()})})}function getTileContainer(n){for(var e in n)if(n.hasOwnProperty(e)&&(n[e]instanceof ymaps.layer.tileContainer.CanvasContainer||n[e]instanceof ymaps.layer.tileContainer.DomContainer))return n[e];return null}function loadScript(n,e){var a=document.createElement("script");a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,e())}:a.onload=function(){e()},a.src=n,document.getElementsByTagName("head")[0].appendChild(a)}var ymap=function(){$(".map__wrap").mouseenter(function(){check_if_load||(check_if_load=!0,spinner.addClass("is-active"),loadScript("https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;loadByRequire=1",function(){ymaps.load(init)}))})};$(function(){ymap()});var popupLink=function(){$(".js-popup-link").magnificPopup({showCloseBtn:!1}),$(document).on("click",".popup-close",function(){$.magnificPopup.close()})},popupSuccess=function(){$(".show-on-success").hide(),$(".popup-callback__block").each(function(){$(this).on("submit",function(){var n=$(this)[0].closest(".hide-on-success");n&&($(n).siblings(".show-on-success").show(),$(n).hide())})})};sandwich(),maskedInput(),popupLink(),popupSuccess();
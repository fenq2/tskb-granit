"use strict";

var sandwich = function sandwich() {
  $('.sandwich__open-btn').click(function () {
    $('.sandwich__content').addClass('sandwich__content_opend');
  });
  $('.sandwich__close-btn').click(function () {
    $('.sandwich__content').removeClass('sandwich__content_opend');
  });
};

var maskedInput = function maskedInput() {
  $('.mask-phone').inputmask({
    mask: '+ 7 (999) 999-99-99'
  });
};

$('.lazyload').lazyload();
var sliderProtocols = new Swiper('.protocols-slider__container', {
  navigation: {
    nextEl: '.protocols-navigation__next',
    prevEl: '.protocols-navigation__prev'
  }
});
var sliderReviews = new Swiper('.reviews-slider__container', {
  slidesPerView: 1,
  spaceBetween: 0,
  navigation: {
    nextEl: '.reviews-navigation__next',
    prevEl: '.reviews-navigation__prev'
  },
  breakpoints: {
    640: {
      slidesPerView: 2,
      spaceBetween: 20
    },
    920: {
      slidesPerView: 4,
      spaceBetween: 40
    }
  }
});
var sliderLaboratory = new Swiper('.laboratory-slider__container', {
  spaceBetween: 60,
  navigation: {
    nextEl: '.laboratory-navigation__next',
    prevEl: '.laboratory-navigation__prev'
  }
});
$('.calculator-form__textarea').attr('placeholder', 'Параметры объекта:' + '\n' + 'Кол-во линий' + '\n' + 'Кол-во замеров' + '\n' + 'Кол-во энергоустановок' + '\n' + 'Кол-во ВРУ шкафов' + '\n' + 'Кол-во электрораспределительных шкафов');
var spinner = $('.map__wrap').children('.loader');
var check_if_load = false;
var myMapTemp, myPlacemarkTemp; // Функция создания карты сайта и затем вставки ее в блок с идентификатором &#34;map-yandex&#34;

function init() {
  var myMapTemp = new ymaps.Map('map-yandex', {
    center: [55.6704384080915, 37.24221219938311],
    // координаты центра на карте
    zoom: 14,
    // коэффициент приближения карты
    controls: ['zoomControl', 'fullscreenControl'] // выбираем только те функции, которые необходимы при использовании

  });
  var myPlacemarkTemp = new ymaps.Placemark([55.6704384080915, 37.24221219938311], {
    balloonContent: 'Здесь может быть ваш адрес'
  }, {
    // Опции.
    // Необходимо указать данный тип макета.
    iconLayout: 'default#imageWithContent',
    // Своё изображение иконки метки.
    iconImageHref: 'img/map-marker.png',
    // Размеры метки.
    iconImageSize: [50, 50],
    // Смещение левого верхнего угла иконки относительно
    // её "ножки" (точки привязки).
    iconImageOffset: [-25, -50]
  });
  myMapTemp.geoObjects.add(myPlacemarkTemp); // помещаем флажок на карту
  // Получаем первый экземпляр коллекции слоев, потом первый слой коллекции

  var layer = myMapTemp.layers.get(0).get(0); // Решение по callback-у для определения полной загрузки карты

  waitForTilesLoad(layer).then(function () {
    // Скрываем индикатор загрузки после полной загрузки карты
    spinner.removeClass('is-active');
  });
} // Функция для определения полной загрузки карты (на самом деле проверяется загрузка тайлов)


function waitForTilesLoad(layer) {
  return new ymaps.vow.Promise(function (resolve, reject) {
    var tc = getTileContainer(layer),
        readyAll = true;
    tc.tiles.each(function (tile, number) {
      if (!tile.isReady()) {
        readyAll = false;
      }
    });

    if (readyAll) {
      resolve();
    } else {
      tc.events.once('ready', function () {
        resolve();
      });
    }
  });
}

function getTileContainer(layer) {
  for (var k in layer) {
    if (layer.hasOwnProperty(k)) {
      if (layer[k] instanceof ymaps.layer.tileContainer.CanvasContainer || layer[k] instanceof ymaps.layer.tileContainer.DomContainer) {
        return layer[k];
      }
    }
  }

  return null;
} // Функция загрузки API Яндекс.Карт по требованию (в нашем случае при наведении)


function loadScript(url, callback) {
  var script = document.createElement('script');

  if (script.readyState) {
    // IE
    script.onreadystatechange = function () {
      if (script.readyState == 'loaded' || script.readyState == 'complete') {
        script.onreadystatechange = null;
        callback();
      }
    };
  } else {
    // Другие браузеры
    script.onload = function () {
      callback();
    };
  }

  script.src = url;
  document.getElementsByTagName('head')[0].appendChild(script);
} // Основная функция, которая проверяет когда мы навели на блок с классом &#34;ymap-container&#34;


var ymap = function ymap() {
  $('.map__wrap').mouseenter(function () {
    if (!check_if_load) {
      // проверяем первый ли раз загружается Яндекс.Карта, если да, то загружаем
      // Чтобы не было повторной загрузки карты, мы изменяем значение переменной
      check_if_load = true; // Показываем индикатор загрузки до тех пор, пока карта не загрузится

      spinner.addClass('is-active'); // Загружаем API Яндекс.Карт

      loadScript('https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;loadByRequire=1', function () {
        // Как только API Яндекс.Карт загрузились, сразу формируем карту и помещаем в блок с идентификатором &#34;map-yandex&#34;
        ymaps.load(init);
      });
    }
  });
};

$(function () {
  // Запускаем основную функцию
  ymap();
});
sandwich();
maskedInput();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2FuZHdpY2giLCIkIiwiY2xpY2siLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwibWFza2VkSW5wdXQiLCJpbnB1dG1hc2siLCJtYXNrIiwibGF6eWxvYWQiLCJzbGlkZXJQcm90b2NvbHMiLCJTd2lwZXIiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwic2xpZGVyUmV2aWV3cyIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJicmVha3BvaW50cyIsInNsaWRlckxhYm9yYXRvcnkiLCJhdHRyIiwic3Bpbm5lciIsImNoaWxkcmVuIiwiY2hlY2tfaWZfbG9hZCIsIm15TWFwVGVtcCIsIm15UGxhY2VtYXJrVGVtcCIsImluaXQiLCJ5bWFwcyIsIk1hcCIsImNlbnRlciIsInpvb20iLCJjb250cm9scyIsIlBsYWNlbWFyayIsImJhbGxvb25Db250ZW50IiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwiZ2VvT2JqZWN0cyIsImFkZCIsImxheWVyIiwibGF5ZXJzIiwiZ2V0Iiwid2FpdEZvclRpbGVzTG9hZCIsInRoZW4iLCJ2b3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRjIiwiZ2V0VGlsZUNvbnRhaW5lciIsInJlYWR5QWxsIiwidGlsZXMiLCJlYWNoIiwidGlsZSIsIm51bWJlciIsImlzUmVhZHkiLCJldmVudHMiLCJvbmNlIiwiayIsImhhc093blByb3BlcnR5IiwidGlsZUNvbnRhaW5lciIsIkNhbnZhc0NvbnRhaW5lciIsIkRvbUNvbnRhaW5lciIsImxvYWRTY3JpcHQiLCJ1cmwiLCJjYWxsYmFjayIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInJlYWR5U3RhdGUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJvbmxvYWQiLCJzcmMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFwcGVuZENo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TSxDQUFDSSxrQkFBUCxHQUE0QixJQUE1QjtBQUNBTCxRQUFBQSxRQUFRO0FBQ1I7QUFDRCxLQU5EO0FBT0EsR0FSRCxNQVFPO0FBQUc7QUFDVEMsSUFBQUEsTUFBTSxDQUFDSyxNQUFQLEdBQWdCLFlBQVk7QUFDM0JOLE1BQUFBLFFBQVE7QUFDUixLQUZEO0FBR0E7O0FBRURDLEVBQUFBLE1BQU0sQ0FBQ00sR0FBUCxHQUFhUixHQUFiO0FBQ0FHLEVBQUFBLFFBQVEsQ0FBQ00sb0JBQVQsQ0FBOEIsTUFBOUIsRUFBc0MsQ0FBdEMsRUFBeUNDLFdBQXpDLENBQXFEUixNQUFyRDtBQUNBLEMsQ0FFRDs7O0FBQ0EsSUFBTVMsSUFBSSxHQUFHLFNBQVBBLElBQU8sR0FBWTtBQUN4QjFFLEVBQUFBLENBQUMsQ0FBQyxZQUFELENBQUQsQ0FBZ0IyRSxVQUFoQixDQUEyQixZQUFNO0FBQ2hDLFFBQUksQ0FBQ3RELGFBQUwsRUFBb0I7QUFBRTtBQUNSO0FBQ2JBLE1BQUFBLGFBQWEsR0FBRyxJQUFoQixDQUZtQixDQUluQjs7QUFDQUYsTUFBQUEsT0FBTyxDQUFDakIsUUFBUixDQUFpQixXQUFqQixFQUxtQixDQU9uQjs7QUFDQTRELE1BQUFBLFVBQVUsQ0FBQyxnRUFBRCxFQUFtRSxZQUFNO0FBQ2xFO0FBQ0FyQyxRQUFBQSxLQUFLLENBQUNtRCxJQUFOLENBQVdwRCxJQUFYO0FBQ0gsT0FISixDQUFWO0FBSUE7QUFDRCxHQWREO0FBZ0JBLENBakJEOztBQW1CQXhCLENBQUMsQ0FBQyxZQUFNO0FBQ0o7QUFDSDBFLEVBQUFBLElBQUk7QUFDSixDQUhBLENBQUQ7QUFLQTNFLFFBQVE7QUFDUkssV0FBVyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5jb25zdCBzYW5kd2ljaCA9IGZ1bmN0aW9uICgpIHtcblx0JCgnLnNhbmR3aWNoX19vcGVuLWJ0bicpLmNsaWNrKCgpID0+IHtcblx0XHQkKCcuc2FuZHdpY2hfX2NvbnRlbnQnKS5hZGRDbGFzcygnc2FuZHdpY2hfX2NvbnRlbnRfb3BlbmQnKTtcblx0fSk7XG5cdCQoJy5zYW5kd2ljaF9fY2xvc2UtYnRuJykuY2xpY2soKCkgPT4ge1xuXHRcdCQoJy5zYW5kd2ljaF9fY29udGVudCcpLnJlbW92ZUNsYXNzKCdzYW5kd2ljaF9fY29udGVudF9vcGVuZCcpO1xuXHR9KTtcbn07XG5cbmNvbnN0IG1hc2tlZElucHV0ID0gZnVuY3Rpb24gKCkge1xuXHQkKCcubWFzay1waG9uZScpLmlucHV0bWFzayh7XG5cdFx0bWFzazogJysgNyAoOTk5KSA5OTktOTktOTknLFxuXHR9KTtcbn07XG5cbiQoJy5sYXp5bG9hZCcpLmxhenlsb2FkKCk7XG5cbmNvbnN0IHNsaWRlclByb3RvY29scyA9IG5ldyBTd2lwZXIoJy5wcm90b2NvbHMtc2xpZGVyX19jb250YWluZXInLCB7XG5cdG5hdmlnYXRpb246IHtcblx0XHRuZXh0RWw6ICcucHJvdG9jb2xzLW5hdmlnYXRpb25fX25leHQnLFxuXHRcdHByZXZFbDogJy5wcm90b2NvbHMtbmF2aWdhdGlvbl9fcHJldicsXG5cdH0sXG59KTtcblxuY29uc3Qgc2xpZGVyUmV2aWV3cyA9IG5ldyBTd2lwZXIoJy5yZXZpZXdzLXNsaWRlcl9fY29udGFpbmVyJywge1xuXHRzbGlkZXNQZXJWaWV3OiAxLFxuXHRzcGFjZUJldHdlZW46IDAsXG5cdG5hdmlnYXRpb246IHtcblx0XHRuZXh0RWw6ICcucmV2aWV3cy1uYXZpZ2F0aW9uX19uZXh0Jyxcblx0XHRwcmV2RWw6ICcucmV2aWV3cy1uYXZpZ2F0aW9uX19wcmV2Jyxcblx0fSxcblx0YnJlYWtwb2ludHM6IHtcblx0XHQ2NDA6IHtcblx0XHRcdHNsaWRlc1BlclZpZXc6IDIsXG5cdFx0XHRzcGFjZUJldHdlZW46IDIwLFxuXHRcdH0sXG5cdFx0OTIwOiB7XG5cdFx0XHRzbGlkZXNQZXJWaWV3OiA0LFxuXHRcdFx0c3BhY2VCZXR3ZWVuOiA0MCxcblx0XHR9LFxuXHR9LFxufSk7XG5cbmNvbnN0IHNsaWRlckxhYm9yYXRvcnkgPSBuZXcgU3dpcGVyKCcubGFib3JhdG9yeS1zbGlkZXJfX2NvbnRhaW5lcicsIHtcblx0c3BhY2VCZXR3ZWVuOiA2MCxcblx0bmF2aWdhdGlvbjoge1xuXHRcdG5leHRFbDogJy5sYWJvcmF0b3J5LW5hdmlnYXRpb25fX25leHQnLFxuXHRcdHByZXZFbDogJy5sYWJvcmF0b3J5LW5hdmlnYXRpb25fX3ByZXYnLFxuXHR9LFxufSk7XG5cbiQoJy5jYWxjdWxhdG9yLWZvcm1fX3RleHRhcmVhJykuYXR0cigncGxhY2Vob2xkZXInLCAn0J/QsNGA0LDQvNC10YLRgNGLINC+0LHRitC10LrRgtCwOicgKyAnXFxuJyArICfQmtC+0Lst0LLQviDQu9C40L3QuNC5JyArICdcXG4nICsgJ9Ca0L7Quy3QstC+INC30LDQvNC10YDQvtCyJyArICdcXG4nICsgJ9Ca0L7Quy3QstC+INGN0L3QtdGA0LPQvtGD0YHRgtCw0L3QvtCy0L7QuicgKyAnXFxuJyArICfQmtC+0Lst0LLQviDQktCg0KMg0YjQutCw0YTQvtCyJyArICdcXG4nICsgJ9Ca0L7Quy3QstC+INGN0LvQtdC60YLRgNC+0YDQsNGB0L/RgNC10LTQtdC70LjRgtC10LvRjNC90YvRhSDRiNC60LDRhNC+0LInKTtcblxuY29uc3Qgc3Bpbm5lciA9ICQoJy5tYXBfX3dyYXAnKS5jaGlsZHJlbignLmxvYWRlcicpO1xubGV0IGNoZWNrX2lmX2xvYWQgPSBmYWxzZTtcbmxldCBteU1hcFRlbXAsXG5cdG15UGxhY2VtYXJrVGVtcDtcblxuLy8g0KTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtGLINGB0LDQudGC0LAg0Lgg0LfQsNGC0LXQvCDQstGB0YLQsNCy0LrQuCDQtdC1INCyINCx0LvQvtC6INGBINC40LTQtdC90YLQuNGE0LjQutCw0YLQvtGA0L7QvCAmIzM0O21hcC15YW5kZXgmIzM0O1xuZnVuY3Rpb24gaW5pdCgpIHtcblx0bGV0IG15TWFwVGVtcCA9IG5ldyB5bWFwcy5NYXAoJ21hcC15YW5kZXgnLCB7XG5cdFx0Y2VudGVyOiBbNTUuNjcwNDM4NDA4MDkxNSwgMzcuMjQyMjEyMTk5MzgzMTFdLCAvLyDQutC+0L7RgNC00LjQvdCw0YLRiyDRhtC10L3RgtGA0LAg0L3QsCDQutCw0YDRgtC1XG5cdFx0em9vbTogMTQsIC8vINC60L7RjdGE0YTQuNGG0LjQtdC90YIg0L/RgNC40LHQu9C40LbQtdC90LjRjyDQutCw0YDRgtGLXG5cdFx0Y29udHJvbHM6IFsnem9vbUNvbnRyb2wnLCAnZnVsbHNjcmVlbkNvbnRyb2wnXSwgLy8g0LLRi9Cx0LjRgNCw0LXQvCDRgtC+0LvRjNC60L4g0YLQtSDRhNGD0L3QutGG0LjQuCwg0LrQvtGC0L7RgNGL0LUg0L3QtdC+0LHRhdC+0LTQuNC80Ysg0L/RgNC4INC40YHQv9C+0LvRjNC30L7QstCw0L3QuNC4XG5cdH0pO1xuXHRsZXQgbXlQbGFjZW1hcmtUZW1wID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNjcwNDM4NDA4MDkxNSwgMzcuMjQyMjEyMTk5MzgzMTFdLCB7XG5cdFx0YmFsbG9vbkNvbnRlbnQ6ICfQl9C00LXRgdGMINC80L7QttC10YIg0LHRi9GC0Ywg0LLQsNGIINCw0LTRgNC10YEnLFxuXHR9LCB7XG5cdFx0Ly8g0J7Qv9GG0LjQuC5cblx0XHQvLyDQndC10L7QsdGF0L7QtNC40LzQviDRg9C60LDQt9Cw0YLRjCDQtNCw0L3QvdGL0Lkg0YLQuNC/INC80LDQutC10YLQsC5cblx0XHRpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZVdpdGhDb250ZW50Jyxcblx0XHQvLyDQodCy0L7RkSDQuNC30L7QsdGA0LDQttC10L3QuNC1INC40LrQvtC90LrQuCDQvNC10YLQutC4LlxuXHRcdGljb25JbWFnZUhyZWY6ICdpbWcvbWFwLW1hcmtlci5wbmcnLFxuXHRcdC8vINCg0LDQt9C80LXRgNGLINC80LXRgtC60LguXG5cdFx0aWNvbkltYWdlU2l6ZTogWzUwLCA1MF0sXG5cdFx0Ly8g0KHQvNC10YnQtdC90LjQtSDQu9C10LLQvtCz0L4g0LLQtdGA0YXQvdC10LPQviDRg9Cz0LvQsCDQuNC60L7QvdC60Lgg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+XG5cdFx0Ly8g0LXRkSBcItC90L7QttC60LhcIiAo0YLQvtGH0LrQuCDQv9GA0LjQstGP0LfQutC4KS5cblx0XHRpY29uSW1hZ2VPZmZzZXQ6IFstMjUsIC01MF0sXG5cdH0pO1xuXHRteU1hcFRlbXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmtUZW1wKTsgLy8g0L/QvtC80LXRidCw0LXQvCDRhNC70LDQttC+0Log0L3QsCDQutCw0YDRgtGDXG5cblx0Ly8g0J/QvtC70YPRh9Cw0LXQvCDQv9C10YDQstGL0Lkg0Y3QutC30LXQvNC/0LvRj9GAINC60L7Qu9C70LXQutGG0LjQuCDRgdC70L7QtdCyLCDQv9C+0YLQvtC8INC/0LXRgNCy0YvQuSDRgdC70L7QuSDQutC+0LvQu9C10LrRhtC40Lhcblx0bGV0IGxheWVyID0gbXlNYXBUZW1wLmxheWVycy5nZXQoMCkuZ2V0KDApO1xuXG5cdC8vINCg0LXRiNC10L3QuNC1INC/0L4gY2FsbGJhY2st0YMg0LTQu9GPINC+0L/RgNC10LTQtdC70LXQvdC40Y8g0L/QvtC70L3QvtC5INC30LDQs9GA0YPQt9C60Lgg0LrQsNGA0YLRi1xuXHR3YWl0Rm9yVGlsZXNMb2FkKGxheWVyKS50aGVuKCgpID0+IHtcblx0XHQvLyDQodC60YDRi9Cy0LDQtdC8INC40L3QtNC40LrQsNGC0L7RgCDQt9Cw0LPRgNGD0LfQutC4INC/0L7RgdC70LUg0L/QvtC70L3QvtC5INC30LDQs9GA0YPQt9C60Lgg0LrQsNGA0YLRi1xuXHRcdHNwaW5uZXIucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXHR9KTtcbn1cblxuLy8g0KTRg9C90LrRhtC40Y8g0LTQu9GPINC+0L/RgNC10LTQtdC70LXQvdC40Y8g0L/QvtC70L3QvtC5INC30LDQs9GA0YPQt9C60Lgg0LrQsNGA0YLRiyAo0L3QsCDRgdCw0LzQvtC8INC00LXQu9C1INC/0YDQvtCy0LXRgNGP0LXRgtGB0Y8g0LfQsNCz0YDRg9C30LrQsCDRgtCw0LnQu9C+0LIpXG5mdW5jdGlvbiB3YWl0Rm9yVGlsZXNMb2FkKGxheWVyKSB7XG5cdHJldHVybiBuZXcgeW1hcHMudm93LlByb21pc2UoKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHR2YXIgdGMgPSBnZXRUaWxlQ29udGFpbmVyKGxheWVyKSwgXG5yZWFkeUFsbCA9IHRydWU7XG5cdFx0dGMudGlsZXMuZWFjaCgodGlsZSwgbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRpbGUuaXNSZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgcmVhZHlBbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cdFx0aWYgKHJlYWR5QWxsKSB7XG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRjLmV2ZW50cy5vbmNlKCdyZWFkeScsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcblx0XHR9XG5cdH0pKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGlsZUNvbnRhaW5lcihsYXllcikge1xuXHRmb3IgKGNvbnN0IGsgaW4gbGF5ZXIpIHtcblx0XHRpZiAobGF5ZXIuaGFzT3duUHJvcGVydHkoaykpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bGF5ZXJba10gaW5zdGFuY2VvZiB5bWFwcy5sYXllci50aWxlQ29udGFpbmVyLkNhbnZhc0NvbnRhaW5lclxuICAgICAgICAgICAgICAgIHx8IGxheWVyW2tdIGluc3RhbmNlb2YgeW1hcHMubGF5ZXIudGlsZUNvbnRhaW5lci5Eb21Db250YWluZXJcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gbGF5ZXJba107XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufVxuXG4vLyDQpNGD0L3QutGG0LjRjyDQt9Cw0LPRgNGD0LfQutC4IEFQSSDQr9C90LTQtdC60YEu0JrQsNGA0YIg0L/QviDRgtGA0LXQsdC+0LLQsNC90LjRjiAo0LIg0L3QsNGI0LXQvCDRgdC70YPRh9Cw0LUg0L/RgNC4INC90LDQstC10LTQtdC90LjQuClcbmZ1bmN0aW9uIGxvYWRTY3JpcHQodXJsLCBjYWxsYmFjaykge1xuXHRsZXQgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cblx0aWYgKHNjcmlwdC5yZWFkeVN0YXRlKSB7ICAvLyBJRVxuXHRcdHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoc2NyaXB0LnJlYWR5U3RhdGUgPT0gJ2xvYWRlZCdcbiAgICAgICAgICAgICAgICB8fCBzY3JpcHQucmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnKSB7XG5cdFx0XHRcdHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gZWxzZSB7ICAvLyDQlNGA0YPQs9C40LUg0LHRgNCw0YPQt9C10YDRi1xuXHRcdHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdH07XG5cdH1cblxuXHRzY3JpcHQuc3JjID0gdXJsO1xuXHRkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG5cbi8vINCe0YHQvdC+0LLQvdCw0Y8g0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC/0YDQvtCy0LXRgNGP0LXRgiDQutC+0LPQtNCwINC80Ysg0L3QsNCy0LXQu9C4INC90LAg0LHQu9C+0Log0YEg0LrQu9Cw0YHRgdC+0LwgJiMzNDt5bWFwLWNvbnRhaW5lciYjMzQ7XG5jb25zdCB5bWFwID0gZnVuY3Rpb24gKCkge1xuXHQkKCcubWFwX193cmFwJykubW91c2VlbnRlcigoKSA9PiB7XG5cdFx0aWYgKCFjaGVja19pZl9sb2FkKSB7IC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQv9C10YDQstGL0Lkg0LvQuCDRgNCw0Lcg0LfQsNCz0YDRg9C20LDQtdGC0YHRjyDQr9C90LTQtdC60YEu0JrQsNGA0YLQsCwg0LXRgdC70Lgg0LTQsCwg0YLQviDQt9Cw0LPRgNGD0LbQsNC10LxcbiAgICAgICAgICAgICAgICAvLyDQp9GC0L7QsdGLINC90LUg0LHRi9C70L4g0L/QvtCy0YLQvtGA0L3QvtC5INC30LDQs9GA0YPQt9C60Lgg0LrQsNGA0YLRiywg0LzRiyDQuNC30LzQtdC90Y/QtdC8INC30L3QsNGH0LXQvdC40LUg0L/QtdGA0LXQvNC10L3QvdC+0Llcblx0XHRcdGNoZWNrX2lmX2xvYWQgPSB0cnVlO1xuXG5cdFx0XHQvLyDQn9C+0LrQsNC30YvQstCw0LXQvCDQuNC90LTQuNC60LDRgtC+0YAg0LfQsNCz0YDRg9C30LrQuCDQtNC+INGC0LXRhSDQv9C+0YAsINC/0L7QutCwINC60LDRgNGC0LAg0L3QtSDQt9Cw0LPRgNGD0LfQuNGC0YHRj1xuXHRcdFx0c3Bpbm5lci5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XG5cblx0XHRcdC8vINCX0LDQs9GA0YPQttCw0LXQvCBBUEkg0K/QvdC00LXQutGBLtCa0LDRgNGCXG5cdFx0XHRsb2FkU2NyaXB0KCdodHRwczovL2FwaS1tYXBzLnlhbmRleC5ydS8yLjEvP2xhbmc9cnVfUlUmYW1wO2xvYWRCeVJlcXVpcmU9MScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8g0JrQsNC6INGC0L7Qu9GM0LrQviBBUEkg0K/QvdC00LXQutGBLtCa0LDRgNGCINC30LDQs9GA0YPQt9C40LvQuNGB0YwsINGB0YDQsNC30YMg0YTQvtGA0LzQuNGA0YPQtdC8INC60LDRgNGC0YMg0Lgg0L/QvtC80LXRidCw0LXQvCDQsiDQsdC70L7QuiDRgSDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgNC+0LwgJiMzNDttYXAteWFuZGV4JiMzNDtcbiAgICAgICAgICAgICAgICAgICAgeW1hcHMubG9hZChpbml0KTtcbiAgICAgICAgICAgICAgICB9KTtcblx0XHR9XG5cdH0sXG5cdCk7XG59XG5cbiQoKCkgPT4ge1xuICAgIC8vINCX0LDQv9GD0YHQutCw0LXQvCDQvtGB0L3QvtCy0L3Rg9GOINGE0YPQvdC60YbQuNGOXG5cdHltYXAoKTtcbn0pO1xuXG5zYW5kd2ljaCgpO1xubWFza2VkSW5wdXQoKTsiXSwiZmlsZSI6Im1haW4ubWluLmpzIn0=
